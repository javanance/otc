<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">

  <h:form id="formUserHierarchy">
    <p:growl id="growl" showDetail="true" />
    <p:outputPanel style="padding: 0.5em 1em;">
      <p:commandButton value="#{messages.save}" action="#{tableHierarchyInit.saveUserHierachy}" />
    </p:outputPanel>
    <p:contextMenu for="tableUserHierarchy" widgetVar="userHierarchyCmenu">
      <p:menuitem value="#{messages.insertHierarchy}" action="#{tableHierarchyInit.add}"
        update="growl, @(.ui-datatable)" />
      <p:separator />
      <p:menuitem value="#{messages.deleteHierarchy}" action="#{tableHifiveInit.remove}"
        update="growl, @(.ui-datatable)" />
    </p:contextMenu>

    <p:dataTable id="tableUserHierarchy" var="_var" value="#{tableHierarchyInit.userHierarchyList}"
      widgetVar="wgTableUserHierarchy" selection="#{tableHierarchyInit.selectHierarchy}" selectionMode="single"
      rowKey="#{_var}" editable="true" editMode="cell" emptyMessage="#{messages.noDataFound}" resizableColumns="true"
      liveResize="false" rows="30">

      <p:ajax event="rowSelect" listener="#{tableHierarchyInit.hiearchySelect()}"
        update="@parent:@parent:@parent:@parent:hierarchyLevel:formPortfolioDefine:pGridPortDefine,
                @parent:@parent:@parent:@parent:formHierarchyDetail:tableHierDetail" />
      <p:column id="colHierId" sortBy="#{_var.hierarchyId}" filterBy="#{_var.hierarchyId}" filterMatchMode="contains"
        width="30">
        <f:facet name="header">
          <h:outputText value="#{messages.hierarchyId}" />
        </f:facet>
        <!-- <p:cellEditor>
          <f:facet name="output"><h:outputText value="#{_var.hierarchyId}"/></f:facet>
          <f:facet name="input"><p:inputText value="#{_var.hierarchyId}"></p:inputText></f:facet>
        </p:cellEditor> -->
        <h:outputText value="#{_var.hierarchyId}" />
      </p:column>

      <p:column id="colHierName" sortBy="#{_var.hierarchyName}" filterBy="#{_var.hierarchyName}"
        filterMatchMode="contains" width="30">
        <f:facet name="header">
          <h:outputText value="#{messages.hierarchyName}" />
        </f:facet>
        <p:cellEditor>
          <f:facet name="output">
            <h:outputText value="#{_var.hierarchyName}" />
          </f:facet>
          <f:facet name="input">
            <p:inputText value="#{_var.hierarchyName}"></p:inputText>
          </f:facet>
        </p:cellEditor>
      </p:column>
      <p:column id="colIsUse" sortBy="#{_var.useYn}" filterBy="#{_var.useYn}" filterMatchMode="contains" width="30">
        <f:facet name="header">
          <h:outputText value="#{messages.useYn}" />
        </f:facet>
        <p:cellEditor>
          <f:facet name="output">
            <h:outputText value="#{_var.useYn}" />
          </f:facet>
          <f:facet name="input">
            <p:inputText value="#{_var.useYn}"></p:inputText>
          </f:facet>
        </p:cellEditor>
      </p:column>
    </p:dataTable>
  </h:form>
</ui:composition>