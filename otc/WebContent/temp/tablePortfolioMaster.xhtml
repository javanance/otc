<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">
   
  <h:form id="formPortfolioPosition">
      <p:growl id="messages" showDetail="true" />
      
      <p:outputPanel style="padding: 0.5em 1em;">
        <p:commandButton  value="#{messages.save}" action="#{tablePortfolioInit.savePortfolio}"   update="@(form)" >
<!--           <p:confirm header="#{messages.confirm}" message="#{messages.confirmInsert}"/> -->
            <p:confirm header=" "  message="confirmInsert" icon="ui-icon-alert" />
        </p:commandButton>
        <p:commandButton  value="#{messages.clear}" action="#{tablePortfolioInit.clearPortfolio}" 
            update="@parent:@parent:aaa:bbb,  @parent:@parent:aaa:tablePortPosition"  />
      </p:outputPanel>
      <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
        <p:commandButton value="#{messages.yes}" type="button"  styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>
        <p:commandButton value="#{messages.no}" type="button"  styleClass="ui-confirmdialog-no" icon="ui-icon-check"/>
      </p:confirmDialog>

    <p:panelGrid id="aaa" columns="2" columnClasses="takion77-alignTop, takion77-alignTop">
    <p:panelGrid id="bbb" columns="2">
        <p:outputLabel value="#{messages.portfolioId}" styleClass="takionLabel" style="float: right;"/>
        <p:inputText  value="#{tablePortfolioInit.addPortfolio.portId}"/>

        <p:outputLabel value="#{messages.portfolioName}" styleClass="takionLabel" style="float: right;"/>
        <p:inputText  value="#{tablePortfolioInit.addPortfolio.portName}"/>
        
  <!--       <p:outputLabel value="#{messages.portfolioType}" styleClass="takionLabel" style="float: right;"/>
        <p:inputText  value="#{tablePortfolioInit.addPortfolio.portType}"/> -->
        
  <!--       <p:outputLabel value="#{messages.referenceHierarchy}" styleClass="takionLabel" style="float: right; "/>
        <p:inputText  value="#{tablePortfolioInit.selectPortfolio.hierarchy.hierarchyName}"/> -->
    </p:panelGrid>
  
          
     <p:dataTable id="tablePortPosition" var="_var" value="#{tablePortfolioInit.addPortfolio.childPortfolios}" 
      widgetVar="wgTablePortPosition"

      rowKey="#{_var}"
      editable="true" editMode="cell"
      emptyMessage="#{messages.noDataFound}"
      resizableColumns="true" liveResize="false"
      rows="30"
      >
<!--       <p:ajax event="rowSelect" listener="#{tablePortfolioInit.hiearchyDetailSelect}" 
        update="@parent:@parent:hierarchyLevel:formPortfolioDefine:pGridPortDefine" /> -->

      <!-- <p:column id="colPortId" sortBy="#{_var.portId}" 
                filterBy="#{_var.portId}" filterMatchMode="contains"  width="100">
        <f:facet name="header"><h:outputText value="#{messages.portfolioId}" /></f:facet>
        <h:outputText value="#{_var.portId}"/>
      </p:column> -->
      
       <p:column id="colPortLevel" sortBy="#{_var.portName}" 
                filterBy="#{_var.portName}" filterMatchMode="contains"  width="100">
        <f:facet name="header"><h:outputText value="#{messages.subPortfolioName}" /></f:facet>
        <h:outputText value="#{_var.portName}"/>
      </p:column>
                 
     <p:column id="colWeight" sortBy="#{_var.weight}" 
                filterBy="#{_var.weight}" filterMatchMode="contains"  width="100">
        <f:facet name="header"><h:outputText value="#{messages.portfolioWeight}" /></f:facet>
        <p:cellEditor>
          <f:facet name="output"><h:outputText value="#{_var.weight}"/></f:facet>
          <f:facet name="input"> <p:inputText value="#{_var.weight}"/> </f:facet>
        </p:cellEditor>
        <!-- <h:outputText value="#{_var.weight}"/> -->
      </p:column>
  </p:dataTable>
  
  </p:panelGrid>
  </h:form>
</ui:composition>